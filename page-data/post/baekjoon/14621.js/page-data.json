{"componentChunkName":"component---src-templates-post-tsx","path":"/post/baekjoon/14621.js","result":{"data":{"file":{"ext":".js","name":"14621","fields":{"content":"// baekjoon input template\n// prettier-ignore\n{var fs=require('fs');var filePath=process.platform==='linux'?'/dev/stdin':'./input';var stdin=fs.readFileSync(filePath).toString().trim().split('\\n').map(r=>r.trim());var input=(()=>{var r=0;return()=>stdin[r++]})();var SI=()=>input();var NI=()=>parseInt(input());var SAI=(r=' ')=>input().split(r);var NAI=(r=' ')=>input().split(r).map(Number);var CA=(r,a=null)=>Array(r).fill(a);var CAA=(r,a,i=null)=>Array.from(Array(r),()=>Array(a).fill(i));var CAAA=(r,a,i,l=null)=>Array.from(Array(r),()=>Array.from(Array(a),()=>Array(i).fill(l)));var P=console.log;}\n\n// union-find data structure template\n// prettier-ignore\n{var DisjointSet=class DisjointSet{constructor(n){this.parent=Array(n).fill(null).map((value,index)=>index);this.rank=Array(n+1).fill(1)}find(u){if(this.parent[u]===u){return this.parent[u]}return this.parent[u]=this.find(this.parent[u])}merge(u,v){u=this.find(u);v=this.find(v);if(u===v){return}if(this.rank[u]>this.rank[v]){[u,v]=[v,u]}this.parent[u]=v;if(this.rank[u]===this.rank[v]){this.rank[v]++}}}}\n\nconst [N, M] = NAI();\n\nconst type = SAI();\n\nconst adj = CAA(N, 0);\n\nCA(M).forEach(() => {\n  const [u, v, d] = NAI();\n\n  adj[u - 1].push({ v: v - 1, w: d });\n  adj[v - 1].push({ v: u - 1, w: d });\n});\n\nconst edges = [];\n\nconst dfs = (u, visited) => {\n  if (visited[u]) {\n    return;\n  }\n\n  visited[u] = true;\n\n  for (let i = 0; i < adj[u].length; i++) {\n    const tmp = adj[u][i];\n\n    const v = tmp.v;\n\n    if (type[u] === type[v]) {\n      continue;\n    }\n\n    edges.push({ u, ...tmp });\n    dfs(v, visited);\n  }\n};\n\nconst visited = CA(N, false);\n\ndfs(0, visited);\n\nif (visited.some((v) => !v)) {\n  P(-1);\n  process.exit(0);\n}\n\n/**\n * @param { u: number, v: number, w: number } edges\n */\nconst kruskal = (edges) => {\n  edges.sort((a, b) => a.w - b.w);\n\n  let ret = 0;\n\n  const disjointSet = new DisjointSet(N);\n\n  for (let i = 0; i < edges.length; i++) {\n    const { u, v, w } = edges[i];\n\n    if (disjointSet.find(u) === disjointSet.find(v)) {\n      continue;\n    }\n\n    disjointSet.merge(u, v);\n\n    ret += w;\n  }\n\n  return ret;\n};\n\nP(kruskal(edges));\n","stampObject":{"modified":1679552369,"created":1679552369}}},"markdownRemark":{"html":"<h2>풀이 방법</h2>\n<ol>\n<li>주어진 그래프에서 성별이 다른 대학교와 이어진 간선들만 모두 걸러낸다.</li>\n<li>걸러낸 간선들을 이용해 도착할 수 없는 대학교가 있다면 -1를 출력하고 종료한다.</li>\n<li>최소 스패닝 트리 알고리즘을 이용해 모든 대학을 잇는 최단 경로를 찾아낸다.</li>\n</ol>\n<h2>틀렸습니다를 받았던 이유</h2>\n<p>성별이 다른 대학교와 이어진 간선들을 dfs 알고리즘을 이용하여 찾는 로직을 잘못 작성하였다.</p>\n<p>대학에 도착했을 때 방문 처리를 하고, 다른 대학으로 이동할 때 방문 여부를 확인했기 때문에 모든 대학교를 방문하지 못했다.</p>\n<p>말이 어려운데 그림으로 표현하면 다음과 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/algorithm-storage/static/fd41e150eaec08a5952ec6654b2dc89b/7a18f/dfs-visited-error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAABJ0AAASdAHeZh94AAAA2UlEQVR42o2R627CMAyF+/6PiCZRNNqmWVMScnM8154gMAEK086v2PHnxMedvBczb9v2R0HXpEgEAM+LOY4T37OIyM+9XmEWSSwuZDuqdRh2h4FuaUkpEdFbmJlnD0Zpr+eCSABaffH1QkROyxKNkXv4ClvnPvueINeQANSka6FzLnhvjYFSuAnnnObVGh8LwA0e9eVA5JyrjLX29/MNw6b4fVjDOQQ4rXpQcjEvxxjrXI9jN2AWIWZdeP+xH/u+vtbcWdfesEhhyQVzzohoqk//hB+1XdWEfwBHdEzgK0ekkQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dfs-visited-error\"\n        title=\"\"\n        src=\"/algorithm-storage/static/fd41e150eaec08a5952ec6654b2dc89b/fcda8/dfs-visited-error.png\"\n        srcset=\"/algorithm-storage/static/fd41e150eaec08a5952ec6654b2dc89b/12f09/dfs-visited-error.png 148w,\n/algorithm-storage/static/fd41e150eaec08a5952ec6654b2dc89b/e4a3f/dfs-visited-error.png 295w,\n/algorithm-storage/static/fd41e150eaec08a5952ec6654b2dc89b/fcda8/dfs-visited-error.png 590w,\n/algorithm-storage/static/fd41e150eaec08a5952ec6654b2dc89b/efc66/dfs-visited-error.png 885w,\n/algorithm-storage/static/fd41e150eaec08a5952ec6654b2dc89b/c83ae/dfs-visited-error.png 1180w,\n/algorithm-storage/static/fd41e150eaec08a5952ec6654b2dc89b/7a18f/dfs-visited-error.png 1284w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"16421번: 나만 안되는 연애"}}},"pageContext":{"slug":"baekjoon/14621.js","slugNoExt":"baekjoon/14621","repoName":"algorithm-storage","userName":"jeong57281","profileUrl":"https://avatars.githubusercontent.com/u/44913775?v=4","utterances":"jeong57281/jeong57281.github.io","googleSiteVerification":"LwKjAts-rLkskyg9wgFh0L-OC3Y2Eo2T4SBrqPjxu8c"}},"staticQueryHashes":[],"slicesMap":{}}